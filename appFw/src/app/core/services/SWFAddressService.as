package app.core.services {	import app.core.events.URIEvent;	import com.asual.swfaddress.SWFAddress;	import com.asual.swfaddress.SWFAddressEvent;	import org.robotlegs.mvcs.Actor;	import flash.external.ExternalInterface;	import flash.net.URLRequest;	import flash.net.navigateToURL;	public class SWFAddressService extends Actor {		public function SWFAddressService() {			SWFAddress.addEventListener(SWFAddressEvent.CHANGE, onAddressChange);		}		public function requestURI(uri : String) : void {			if (uri.indexOf('http://') == 0) {				navigateToURL(new URLRequest(uri), '_blank');				return;			}			if (ExternalInterface.available) {				SWFAddress.setValue(uri);			} else {				setTargetURI(uri);			}		}		public function setTitle(title : String) : void {			SWFAddress.setTitle(title);		}				private function onAddressChange(e : SWFAddressEvent) : void {			setTargetURI(e.value);		}		private function setTargetURI(uri : String) : void {			if (uri.charAt(0) != '/') {				uri = '/' + uri;			}			dispatch(new URIEvent(URIEvent.URI_CHANGED, uri));		}	}}